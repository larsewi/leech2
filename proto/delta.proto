syntax = "proto3";

package delta;

import "entry.proto";
import "update.proto";

// Delta represents the changes to a single table between two states.
message Delta {
  // The name of the table this delta applies to.
  string table_name = 1;
  // The names of all columns, primary key columns first.
  repeated string column_names = 2;
  // Entries that were added (new keys).
  repeated entry.Entry inserts = 3;
  // Entries that were removed (keys no longer present).
  repeated entry.Entry deletes = 4;
  // Entries that were modified (existing keys with changed values).
  repeated update.Update updates = 5;
}
